<div class="auth-page">
  <div class="auth-container">
    <div class="logo">
      <span class="logo-icon">tr</span>
      <span class="logo-train">â–²</span>
      <span class="logo-text">inTrack</span>
    </div>

    <div class="auth-card">
      <h1>Verify Your Email</h1>
      
      <div class="info-box">
        <p>We've sent a verification code to</p>
        <p class="email-highlight">{{ email }}</p>
      </div>

      <form [formGroup]="verifyForm" (ngSubmit)="onSubmit()">
        <div class="input-group">
          <input
            #codeInput
            type="text"
            inputmode="numeric"
            formControlName="verificationCode"
            placeholder="Enter 6-digit code"
            [class.error-input]="submitted && f['verificationCode'].errors"
            autocomplete="one-time-code"
            maxlength="6"
            (input)="onCodeInput($event)"
          />
        </div>

        <div *ngIf="submitted && f['verificationCode'].errors" class="error-message">
          <span *ngIf="f['verificationCode'].errors['required']">Verification code is required</span>
          <span *ngIf="f['verificationCode'].errors['pattern'] || f['verificationCode'].errors['minlength']">
            Please enter a valid 6-digit code
          </span>
        </div>

        <div *ngIf="error" class="alert-error">
          {{ error }}
        </div>

        <div *ngIf="success" class="alert-success">
          {{ success }}
        </div>

        <button type="submit" class="btn-gradient" [disabled]="loading">
          {{ loading ? 'Verifying...' : 'Verify Email' }}
        </button>

        <div class="footer-text">
          Didn't receive the code? 
          <a class="link-primary" (click)="resendCode()" [class.disabled]="loading">Resend</a>
        </div>

        <div class="footer-link">
          Wrong email? 
          <a routerLink="/register" class="link-primary">Go back</a>
        </div>
      </form>
    </div>
  </div>
</div>